{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.jsx","components/services/api.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Modal/Modal.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","components/ImageGallery/ImageGallery.jsx","App.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","Searchbar","state","pictureName","handleChange","e","setState","target","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","alert","this","className","s","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","onChange","autocomplete","autofocus","placeholder","Component","getImages","page","axios","get","ImageGalleryItem","images","onClick","map","id","webformatURL","largeImageURL","src","alt","ImageGalleryItemImage","modalRoot","document","querySelector","Modal","handleKeyDown","code","onCloseModal","handleBackdropClick","currentTarget","window","addEventListener","removeEventListener","createPortal","Overlay","Button","Spinner","color","height","width","ImageGallery","status","searchPicture","showButton","handleSelectedImage","imageURL","handleLoadMore","p","prevProps","prevState","then","responce","data","total","hits","newPicture","scrollTo","top","documentElement","scrollHeight","behavior","title","loader","App","handleFormSubmit","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d716656e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__28Xu0\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3xegF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1FRcY\",\"Modal\":\"Modal_Modal__1VTu5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2CdBJ\"};","import React, { Component } from 'react';\r\nimport s from './Searchbar.module.css';\r\n\r\nexport class Searchbar extends Component {\r\n  state = {\r\n    pictureName: '',\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({ pictureName: e.target.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    if (this.state.pictureName.trim() === '') {\r\n      alert('Введите название картинки');\r\n      return;\r\n    }\r\n    this.props.onSubmit(this.state.pictureName);\r\n    this.setState({\r\n      pictureName: '',\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { pictureName } = this.state;\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <span className={s.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchFormInput}\r\n            value={pictureName}\r\n            onChange={this.handleChange}\r\n            type=\"text\"\r\n            autocomplete=\"off\"\r\n            autofocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import axios from 'axios';\r\n\r\nconst API = '22683403-802ec757cc56aeed5d838f42d';\r\nconst getImages = (pictureName, page) => {\r\n  return axios.get(\r\n    `https://pixabay.com/api/?q=${pictureName}&page=${page}&key=${API}&image_type=photo&orientation=horizontal&per_page=12`,\r\n  );\r\n};\r\nexport default getImages;\r\n","import s from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ images, onClick }) =>\r\n  images.map(({ id, webformatURL, largeImageURL }) => (\r\n    <li className={s.ImageGalleryItem} key={id} onClick={() => onClick(largeImageURL)}>\r\n      <img src={webformatURL} alt={id} className={s.ImageGalleryItemImage} />\r\n    </li>\r\n  ));\r\n\r\nexport default ImageGalleryItem;\r\n","import { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from 'components/Modal/Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onCloseModal();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onCloseModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { src, id } = this.props;\r\n    return createPortal(\r\n      <>\r\n        <div className={s.Overlay} onClick={this.handleBackdropClick}>\r\n          <div className={s.Modal}>\r\n            <img src={src} alt={id} />\r\n          </div>\r\n        </div>\r\n      </>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import s from './Button.module.css';\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <button onClick={onClick} type=\"button\" className={s.Button}>\r\n      Load more...\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nconst Spinner = () => {\r\n  return <Loader type=\"Puff\" color=\"red\" height={90} width={90} />;\r\n};\r\nexport default Spinner;\r\n","import { Component } from 'react';\r\nimport getImages from 'components/services/api';\r\nimport ImageGalleryItem from 'components/ImageGalleryItem';\r\nimport s from './ImageGallery.module.css';\r\nimport Modal from 'components/Modal';\r\nimport Button from 'components/Button';\r\nimport Spinner from 'components/Loader/Loader';\r\n\r\nexport class ImageGallery extends Component {\r\n  state = {\r\n    images: [],\r\n    status: 'idle',\r\n    page: 1,\r\n    searchPicture: null,\r\n    showButton: false,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { pictureName } = this.props;\r\n    const { page } = this.state;\r\n\r\n    if (prevProps.pictureName !== pictureName) {\r\n      this.setState({\r\n        images: null,\r\n        page: 1,\r\n        status: 'pending',\r\n      });\r\n      getImages(pictureName, 1).then(responce => {\r\n        if (responce.data.total !== 0) {\r\n          this.setState({\r\n            images: responce.data.hits,\r\n            showButton: true,\r\n            status: 'resolved',\r\n          });\r\n        } else {\r\n          this.setState({ status: 'rejected' });\r\n        }\r\n      });\r\n    }\r\n\r\n    if (prevState.page !== page && page !== 1) {\r\n      getImages(pictureName, page).then(responce => {\r\n        const newPicture = responce.data.hits;\r\n        this.setState({\r\n          images: [...prevState.images, ...newPicture],\r\n          status: 'resolved',\r\n          showButton: true,\r\n        });\r\n        window.scrollTo({\r\n          top: document.documentElement.scrollHeight,\r\n          behavior: 'smooth',\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSelectedImage = imageURL => {\r\n    this.setState({\r\n      searchPicture: imageURL,\r\n    });\r\n  };\r\n\r\n  handleLoadMore = () => {\r\n    this.setState(p => ({ page: p.page + 1 }));\r\n  };\r\n\r\n  render() {\r\n    const { images, searchPicture, status, showButton } = this.state;\r\n\r\n    if (status === 'idle') {\r\n      return <h2 className={s.title}>Введите поисковый запрос</h2>;\r\n    }\r\n    if (status === 'rejected') {\r\n      return <h2 className={s.title}>Картинки по запросу {this.props.pictureName} не найдены</h2>;\r\n    }\r\n    return (\r\n      <>\r\n        {status === 'pending' && (\r\n          <div className={s.loader}>\r\n            <Spinner />\r\n          </div>\r\n        )}\r\n        {status === 'resolved' && (\r\n          <ul className={s.ImageGallery}>\r\n            <ImageGalleryItem images={images} onClick={this.handleSelectedImage} />\r\n          </ul>\r\n        )}\r\n        {showButton && <Button onClick={this.handleLoadMore} />}\r\n        {searchPicture && <Modal src={searchPicture} onCloseModal={this.handleSelectedImage} />}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import { Component } from 'react';\nimport './App.css';\nimport Searchbar from 'components/Searchbar';\nimport ImageGallery from 'components/ImageGallery';\n\nexport class App extends Component {\n  state = {\n    pictureName: '',\n  };\n\n  handleFormSubmit = pictureName => {\n    this.setState({ pictureName, page: 1, images: [] });\n  };\n\n  render() {\n    const { pictureName } = this.state;\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery pictureName={pictureName} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1yHwE\",\"SearchForm\":\"Searchbar_SearchForm__3stHf\",\"SearchFormButton\":\"Searchbar_SearchFormButton__SB8kz\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2Y4cG\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3VcXK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3nP8_\",\"loader\":\"ImageGallery_loader__zxfsR\",\"title\":\"ImageGallery_title__1k9pZ\"};"],"sourceRoot":""}